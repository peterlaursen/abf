LIBDAISY

A SIMPLE DESIGN DOCUMENT:

LibDaisy contains the classes and functions for working with Daisy 2.02 books. The functions we are to use are currently scattered throughout the programs we have developed so far. It is our job to get a hold of these functions and combine them into a shared library. It is also our goal to create a .NET interface

THE LIBRARY:

The LibDaisy library will be built using classes and functions. The classes will be stored in a namespace called "ABF".

DESIGN DECISIONS:

1) The interface to the library will be stored in a single class called "Daisy". I originally considered static functions, but I believe they would not work too well.

FUNCTION LIST:

The class "Daisy" contains the following public functions:

bool Open(): Opens the daisy book for reading - that means that it opens the "ncc.html" file
void Close(): Closes the daisy book. This function will also be called from the destructor so that we can properly clean up after ourselves.
vector<string> ExtractMetaInfo(): Extracts all the meta information and returns a vector<string> containing the information extracted.
string ExtractMetaInfo(): Extracts the given meta info string and returns the value (see the Daisy 2.02 specification for valid values)
ExtractMP3: Extracts the name of the next MP3 file. Returns the file name to be opened.
Update (2010-02-08):

There were several small bugs in LibDaisy. One bug that stays in the library is that some Danish characters are not converted properly to a "native" character set.
Throughout its history, libdaisy has had various problems.
Today, I made a decision to make all file names lower-case. This was because the Unix-like systems couldn't find the files referenced in the ncc.html file - they were written in capital letters. This doesn't matter on Mac or Windows, but it matters on FreeBSD.
This problem has long gone un-noticed - mostly because I only tested converting from CDs, not from the harddrive.

